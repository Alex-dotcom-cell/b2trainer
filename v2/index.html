<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>B2 German Exam Trainer</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #f8fafc;
      -webkit-tap-highlight-color: transparent;
    }
    .card {
      background: white;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 2px 4px -1px rgba(0,0,0,0.1);
      border: 1px solid #e2e8f0;
      margin-bottom: 1rem;
    }
    @media (min-width: 768px) {
      .card {
        padding: 1.5rem;
        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
      }
    }
    .btn-icon {
      width: 2.5rem;
      height: 2.5rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }
    .debug-panel {
      background: #1a1a1a;
      color: #00ff00;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      padding: 1rem;
      border-radius: 8px;
      max-height: 200px;
      overflow-y: auto;
    }
    .log-error { color: #ff6b6b; }
    .log-warning { color: #ffd93d; }
    .log-info { color: #6bcbef; }
    .log-success { color: #6bcf7f; }
    .voice-option {
      cursor: pointer;
      padding: 8px 12px;
      margin: 4px;
      border-radius: 6px;
      border: 1px solid #e2e8f0;
      font-size: 14px;
    }
    .voice-option:hover { background: #f7fafc; }
    .voice-option.selected { background: #ebf8ff; border-color: #4299e1; }

    /* –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
    .mobile-optimized {
      font-size: 14px;
    }
    .mobile-button {
      padding: 12px 16px;
      font-size: 14px;
      margin: 4px 2px;
    }
    @media (max-width: 768px) {
      .mobile-column {
        display: flex;
        flex-direction: column;
      }
      .mobile-small-text {
        font-size: 12px;
      }
    }
  </style>
</head>
<body class="p-2 md:p-4">
  <div id="root"></div>

  <script type="text/babel">
  const { useState, useEffect, useMemo, useCallback } = React;

  // ========== –î–ê–ù–ù–´–ï ==========
  const SCHREIBEN_TOPICS = [
    { id: 'produkt', ru: '1. –¢–æ–≤–∞—Ä (–¥–µ—Ñ–µ–∫—Ç)', de: 'der neue Staubsauger' },
    { id: 'service', ru: '2. –£—Å–ª—É–≥–∞ (–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ)', de: 'Ihr Internetanschluss' },
    { id: 'kurs', ru: '3. –ö—É—Ä—Å/–®–∫–æ–ª–∞ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏)', de: 'der Deutsch B2-Kurs' },
    { id: 'reise', ru: '4. –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ/–û—Ç–µ–ª—å (–Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏)', de: 'das gebuchte Hotelzimmer' },
    { id: 'wohnung', ru: '5. –î–µ—Ñ–µ–∫—Ç –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ', de: 'die Heizungsanlage in meiner Wohnung' },
    { id: 'rechnung', ru: '6. –°—á–µ—Ç/–î–æ–≥–æ–≤–æ—Ä (–æ—à–∏–±–∫–∞)', de: 'meine letzte Rechnung' },
    { id: 'transport', ru: '7. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (–∑–∞–¥–µ—Ä–∂–∫–∞/–ø—Ä–æ–±–ª–µ–º–∞)', de: 'die Bahnverbindung nach Berlin' },
  ];

  const PHRASES_DATA = {
    greetings: [
      { id: 101, text: "Sehr geehrte Damen und Herren,", ru: "–£–≤–∞–∂–∞–µ–º—ã–µ –¥–∞–º—ã –∏ –≥–æ—Å–ø–æ–¥–∞,", tip: "–§–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ" }
    ],
    issue_intro: [
      { id: 201, text: "Ich schreibe Ihnen bez√ºglich [–æ–±—ä–µ–∫—Ç –∂–∞–ª–æ–±—ã].", ru: "–Ø –ø–∏—à—É –í–∞–º –ø–æ –ø–æ–≤–æ–¥—É [–æ–±—ä–µ–∫—Ç –∂–∞–ª–æ–±—ã].", tip: "bez√ºglich + Genitiv" },
      { id: 202, text: "Ich beziehe mich auf unsere Bestellung/Vereinbarung vom [–î–∞—Ç–∞].", ru: "–Ø —Å—Å—ã–ª–∞—é—Å—å –Ω–∞ –Ω–∞—à –∑–∞–∫–∞–∑/–¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å –æ—Ç [–î–∞—Ç–∞].", tip: "sich beziehen auf + Akk" }
    ],
    main_problem: [
      { id: 301, text: "Leider muss ich Ihnen mitteilen, dass [–æ–±—ä–µ–∫—Ç –∂–∞–ª–æ–±—ã] nicht der Beschreibung entspricht.", ru: "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, [–æ–±—ä–µ–∫—Ç –∂–∞–ª–æ–±—ã] –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—é.", tip: "–ü—Ä–∏–¥–∞—Ç–æ—á–Ω–æ–µ —Å dass" },
      { id: 302, text: "Der Hauptgrund f√ºr meine Beschwerde ist, dass es M√§ngel gibt.", ru: "–ü—Ä–∏—á–∏–Ω–∞ –∂–∞–ª–æ–±—ã ‚Äî –Ω–∞–ª–∏—á–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤.", tip: "M√§ngel ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏" }
    ],
    problem_consequence: [
      { id: 401, text: "Aufgrund dieses Problems konnte ich meine Arbeit nicht wie geplant durchf√ºhren.", ru: "–ò–∑-–∑–∞ —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã —è –Ω–µ —Å–º–æ–≥ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–∞–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª.", tip: "Aufgrund + Genitiv" },
      { id: 402, text: "Das hat bei mir zu gro√üem √Ñrger und Unannehmlichkeiten gef√ºhrt.", ru: "–≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –±–æ–ª—å—à–∏–º –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞–º.", tip: "zu √Ñrger f√ºhren" }
    ],
    evidence: [
      { id: 501, text: "Ich habe Ihnen alle notwendigen Unterlagen in der Anlage beigef√ºgt.", ru: "–Ø –ø—Ä–∏–ª–æ–∂–∏–ª –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.", tip: "beif√ºgen ‚Äî –ø—Ä–∏–ª–∞–≥–∞—Ç—å" },
      { id: 502, text: "Ich m√∂chte Sie bitten, die Angelegenheit innerhalb von 14 Tagen zu kl√§ren.", ru: "–ü—Ä–æ—à—É —Ä–µ—à–∏—Ç—å –≤–æ–ø—Ä–æ—Å –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π.", tip: "Infinitivkonstruktion" }
    ],
    resolution_request: [
      { id: 601, text: "Daher bitte ich Sie h√∂flich um eine schnelle L√∂sung und um Ersatz.", ru: "–ü—Ä–æ—à—É —Å—Ä–æ—á–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∏ –∑–∞–º–µ–Ω—ã.", tip: "Daher ‚Äî –ø–æ—ç—Ç–æ–º—É" },
      { id: 602, text: "Falls dies nicht m√∂glich ist, erwarte ich die volle R√ºckerstattung des Kaufpreises.", ru: "–ï—Å–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –æ–∂–∏–¥–∞—é –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤.", tip: "Falls = –µ—Å–ª–∏" }
    ],
    closing_formula: [
      { id: 701, text: "Ich danke Ihnen f√ºr Ihre M√ºhe und hoffe auf eine schnelle Kl√§rung.", ru: "–ë–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ –∏ –Ω–∞–¥–µ—é—Å—å –Ω–∞ –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ.", tip: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞" }
    ],
    sign_off: [
      { id: 801, text: "Mit freundlichen Gr√º√üen,", ru: "–° —É–≤–∞–∂–µ–Ω–∏–µ–º,", tip: "–ü–æ–¥–ø–∏—Å—å" }
    ],
  };

  const SPRECHEN_SCENARIOS = [
    {
      id: 'thema1',
      title_ru: '–¢–µ–º–∞ 1: –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è',
      title_de: 'Thema 1: Arbeitgeber beschreiben',
      dialogues: [
        {
          id: '1a',
          title_ru: 'A. –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è IT-–∫–æ–º–ø–∞–Ω–∏—è',
          text_de: `A: Ich m√∂chte √ºber einen Arbeitgeber sprechen, bei dem ich gerne arbeiten w√ºrde ‚Äì ein internationales IT-Unternehmen.
B: Klingt spannend. In welcher Branche ist das Unternehmen t√§tig?
A: Es entwickelt Softwarel√∂sungen f√ºr gro√üe Firmen, zum Beispiel f√ºr Banken und Versicherungen.
B: Und welche Abteilungen gibt es dort?
A: Es gibt eine Entwicklungsabteilung, ein Marketingteam, den Kundenservice und die Personalabteilung.
B: Was findest du besonders interessant an diesem Arbeitgeber?
A: Die internationale Atmosph√§re und die M√∂glichkeit, im Ausland zu arbeiten.
B: Und wie ist das Arbeitsklima dort?
A: Laut Bewertungen ist es sehr angenehm ‚Äì flexible Arbeitszeiten, gute Bezahlung und Weiterbildungsm√∂glichkeiten.
B: Das klingt nach einem idealen Arbeitsplatz.
A: Ja, ich hoffe, dort eines Tages arbeiten zu k√∂nnen.`,
          text_ru: `A: –Ø —Ö–æ—á—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ, —É –∫–æ—Ç–æ—Ä–æ–≥–æ —è —Ö–æ—Ç–µ–ª –±—ã —Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî —ç—Ç–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è IT-–∫–æ–º–ø–∞–Ω–∏—è.
B: –ó–≤—É—á–∏—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –í –∫–∞–∫–æ–π –æ—Ç—Ä–∞—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–ø–∞–Ω–∏—è?
A: –û–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–Ω–∫–æ–≤ –∏ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö —Ñ–∏—Ä–º.
B: –ê –∫–∞–∫–∏–µ –æ—Ç–¥–µ–ª—ã —Ç–∞–º –µ—Å—Ç—å?
A: –ï—Å—Ç—å –æ—Ç–¥–µ–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∫–æ–º–∞–Ω–¥–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞, —Å–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –æ—Ç–¥–µ–ª –∫–∞–¥—Ä–æ–≤.
B: –ß—Ç–æ —Ç–µ–±–µ –æ—Å–æ–±–µ–Ω–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –≤ —ç—Ç–æ–º —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ?
A: –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π.
B: –ê –∫–∞–∫–∞—è —Ç–∞–º —Ä–∞–±–æ—á–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞?
A: –°–æ–≥–ª–∞—Å–Ω–æ –æ—Ç–∑—ã–≤–∞–º, –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–∞—è ‚Äî –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫, —Ö–æ—Ä–æ—à–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏.
B: –ó–≤—É—á–∏—Ç –∫–∞–∫ –∏–¥–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã.
A: –î–∞, —è –Ω–∞–¥–µ—é—Å—å –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å —Ç–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å.`
        }
      ]
    },
    {
      id: 'thema2',
      title_ru: '–¢–µ–º–∞ 2: –ö–æ–º–ø–∞–Ω–∏—è —Å —Ö–æ—Ä–æ—à–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ —Ç—Ä—É–¥–∞',
      title_de: 'Thema 2: Unternehmen mit gutem Arbeitsumfeld',
      dialogues: [
        {
          id: '2a',
          title_ru: 'A. –°–µ–º–µ–π–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è',
          text_de: `A: Ich kenne ein Unternehmen, das ein sehr gutes Arbeitsumfeld bietet ‚Äì es ist ein mittelst√§ndisches Familienunternehmen.
B: Was macht das Arbeitsumfeld dort so gut?
A: Die Atmosph√§re ist freundlich und respektvoll. Die Mitarbeiter arbeiten gern zusammen.
B: Und wie sieht es mit dem Gehalt aus?
A: Die L√∂hne sind fair und es gibt regelm√§√üige Gehaltserh√∂hungen.
B: Gibt es auch Karrierechancen?
A: Ja, man kann sich intern weiterentwickeln und bekommt Unterst√ºtzung bei Fortbildungen.
B: Wie sind die Arbeitszeiten geregelt?
A: Es gibt flexible Arbeitszeiten und die M√∂glichkeit, im Homeoffice zu arbeiten.
B: Und was ist mit den Arbeitsbedingungen?
A: Die B√ºros sind modern ausgestattet, es gibt kostenlose Getr√§nke und ergonomische M√∂bel.
B: Das klingt wirklich attraktiv.
A: Ja, ich denke, solche Unternehmen sind ein gutes Beispiel f√ºr andere.`,
          text_ru: `A: –Ø –∑–Ω–∞—é –∫–æ–º–ø–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–µ —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–∞ ‚Äî —ç—Ç–æ —Å—Ä–µ–¥–Ω—è—è —Å–µ–º–µ–π–Ω–∞—è —Ñ–∏—Ä–º–∞.
B: –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–∞ —Ç–∞–º —Ç–∞–∫–∏–º–∏ —Ö–æ—Ä–æ—à–∏–º–∏?
A: –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –¥—Ä—É–∂–µ–ª—é–±–Ω–∞—è –∏ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–∞—è. –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –æ—Ö–æ—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ.
B: –ê –∫–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ —Å –∑–∞—Ä–ø–ª–∞—Ç–æ–π?
A: –ó–∞—Ä–ø–ª–∞—Ç—ã —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–µ, –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è.
B: –ï—Å—Ç—å –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–∞—Ä—å–µ—Ä–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞?
A: –î–∞, –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –ø–æ–ª—É—á–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ –æ–±—É—á–µ–Ω–∏–∏.
B: –ö–∞–∫ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è?
A: –ï—Å—Ç—å –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ –¥–æ–º–∞.
B: –ê –∫–∞–∫ –Ω–∞—Å—á–µ—Ç —É—Å–ª–æ–≤–∏–π —Ç—Ä—É–¥–∞?
A: –û—Ñ–∏—Å—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω—ã, –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏ –∏ —ç—Ä–≥–æ–Ω–æ–º–∏—á–Ω–∞—è –º–µ–±–µ–ª—å.
B: –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–≤—É—á–∏—Ç –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ.
A: –î–∞, —è –¥—É–º–∞—é, —Ç–∞–∫–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äî —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥—Ä—É–≥–∏—Ö.`
        }
      ]
    },
    {
      id: 'thema3',
      title_ru: '–¢–µ–º–∞ 3: –°–æ–±—ã—Ç–∏—è –∏ –æ–ø—ã—Ç, –ø–æ–≤–ª–∏—è–≤—à–∏–µ –Ω–∞ –≤—ã–±–æ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏',
      title_de: 'Thema 3: Ereignisse und Erfahrungen, die Ihre Berufswahl beeinflusst haben',
      dialogues: [
        {
          id: '3a',
          title_ru: 'A. –ò–Ω—Ç–µ—Ä–µ—Å –∫ —Ç–µ—Ö–Ω–∏–∫–µ —Å –¥–µ—Ç—Å—Ç–≤–∞',
          text_de: `A: Ich habe mich f√ºr meinen Beruf entschieden, weil ich schon als Kind gro√ües Interesse an Technik hatte.
B: Das ist spannend. Gab es ein besonderes Erlebnis, das dich beeinflusst hat?
A: Ja, ich habe in der Schule ein Projekt gemacht, bei dem wir einen kleinen Roboter gebaut haben.
B: Klingt cool! Hat dir das Projekt Spa√ü gemacht?
A: Sehr! Ich habe gemerkt, dass ich kreativ bin und gerne Probleme l√∂se.
B: Hast du auch ein Praktikum gemacht?
A: Ja, ich war zwei Wochen in einem IT-Unternehmen. Ich durfte bei echten Projekten mitarbeiten.
B: Und wie war die Atmosph√§re dort?
A: Sehr angenehm. Die Kollegen waren hilfsbereit und ich habe viel gelernt.
B: Hat dich jemand aus deiner Familie beeinflusst?
A: Mein Onkel ist Ingenieur. Er hat mir oft von seiner Arbeit erz√§hlt und mich motiviert.
B: Dann hast du deinen Beruf mit Herz gew√§hlt.
A: Genau. Ich m√∂chte etwas Sinnvolles machen und mich weiterentwickeln.`,
          text_ru: `A: –Ø –≤—ã–±—Ä–∞–ª —Å–≤–æ—é –ø—Ä–æ—Ñ–µ—Å—Å–∏—é, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å –¥–µ—Ç—Å—Ç–≤–∞ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª—Å—è —Ç–µ—Ö–Ω–∏–∫–æ–π.
B: –≠—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –ë—ã–ª–æ –ª–∏ –∫–∞–∫–æ–µ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞ —Ç–µ–±—è –ø–æ–≤–ª–∏—è–ª–æ?
A: –î–∞, –≤ —à–∫–æ–ª–µ —è —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ –ø—Ä–æ–µ–∫—Ç–µ, –≥–¥–µ –º—ã —Å–æ–±–∏—Ä–∞–ª–∏ –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —Ä–æ–±–æ—Ç–∞.
B: –ó–≤—É—á–∏—Ç –∫—Ä—É—Ç–æ! –¢–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç?
A: –û—á–µ–Ω—å! –Ø –ø–æ–Ω—è–ª, —á—Ç–æ —è –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –∏ –ª—é–±–ª—é —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏.
B: –¢—ã –ø—Ä–æ—Ö–æ–¥–∏–ª –ø—Ä–∞–∫—Ç–∏–∫—É?
A: –î–∞, —è –±—ã–ª –¥–≤–µ –Ω–µ–¥–µ–ª–∏ –≤ IT-–∫–æ–º–ø–∞–Ω–∏–∏. –ú–Ω–µ —Ä–∞–∑—Ä–µ—à–∏–ª–∏ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
B: –ê –∫–∞–∫–∞—è —Ç–∞–º –±—ã–ª–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞?
A: –û—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–∞—è. –ö–æ–ª–ª–µ–≥–∏ –±—ã–ª–∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–º–∏, –∏ —è –º–Ω–æ–≥–æ–º—É –Ω–∞—É—á–∏–ª—Å—è.
B: –ö—Ç–æ-—Ç–æ –∏–∑ —Å–µ–º—å–∏ –ø–æ–≤–ª–∏—è–ª –Ω–∞ —Ç–≤–æ–π –≤—ã–±–æ—Ä?
A: –ú–æ–π –¥—è–¥—è ‚Äî –∏–Ω–∂–µ–Ω–µ—Ä. –û–Ω —á–∞—Å—Ç–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª –º–Ω–µ –æ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ –∏ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –º–µ–Ω—è.
B: –ó–Ω–∞—á–∏—Ç, —Ç—ã –≤—ã–±—Ä–∞–ª –ø—Ä–æ—Ñ–µ—Å—Å–∏—é —Å –¥—É—à–æ–π.
A: –ò–º–µ–Ω–Ω–æ. –Ø —Ö–æ—á—É –¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–µ –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è.`
        }
      ]
    },
    {
      id: 'thema4',
      title_ru: '–¢–µ–º–∞ 4: –ß–µ–ª–æ–≤–µ–∫, –ø–æ–≤–ª–∏—è–≤—à–∏–π –Ω–∞ –≤—ã–±–æ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏',
      title_de: 'Thema 4: Eine Person, die Ihre Berufswahl beeinflusst hat',
      dialogues: [
        {
          id: '4a',
          title_ru: 'A. –í–ª–∏—è–Ω–∏–µ —Å—Ç–∞—Ä—à–µ–≥–æ –±—Ä–∞—Ç–∞',
          text_de: `A: Ich m√∂chte √ºber meinen √§lteren Bruder sprechen. Er hat meine Berufswahl stark beeinflusst.
B: Interessant! Was macht dein Bruder beruflich?
A: Er ist Grafikdesigner in einer Werbeagentur. Schon als Kind hat er viel gezeichnet und war sehr kreativ.
B: Und wie hat er dich beeinflusst?
A: Er hat mir gezeigt, wie spannend kreative Berufe sein k√∂nnen. Ich habe durch ihn angefangen, mit Designprogrammen zu arbeiten.
B: Habt ihr auch gemeinsam Projekte gemacht?
A: Ja, wir haben zusammen ein Logo f√ºr ein Schulprojekt entworfen. Das hat mir gro√üen Spa√ü gemacht.
B: Was sch√§tzt du besonders an deinem Bruder?
A: Seine Geduld und seine F√§higkeit, andere zu motivieren. Er nimmt sich Zeit, um Dinge zu erkl√§ren.
B: Ist er dein berufliches Vorbild?
A: Ja, definitiv. Ich m√∂chte auch kreativ arbeiten und Menschen mit meinen Ideen begeistern.
B: Dann hast du eine klare Richtung f√ºr deine Zukunft.
A: Genau. Und ich bin dankbar, dass ich jemanden habe, der mich unterst√ºtzt.`,
          text_ru: `A: –Ø —Ö–æ—á—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ —Å–≤–æ–µ–º —Å—Ç–∞—Ä—à–µ–º –±—Ä–∞—Ç–µ. –û–Ω —Å–∏–ª—å–Ω–æ –ø–æ–≤–ª–∏—è–ª –Ω–∞ –º–æ–π –≤—ã–±–æ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏.
B: –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –ö–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–≤–æ–π –±—Ä–∞—Ç?
A: –û–Ω –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω–µ—Ä –≤ —Ä–µ–∫–ª–∞–º–Ω–æ–º –∞–≥–µ–Ω—Ç—Å—Ç–≤–µ. –ï—â–µ –≤ –¥–µ—Ç—Å—Ç–≤–µ –æ–Ω –º–Ω–æ–≥–æ —Ä–∏—Å–æ–≤–∞–ª –∏ –±—ã–ª –æ—á–µ–Ω—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º.
B: –ê –∫–∞–∫ –æ–Ω –ø–æ–≤–ª–∏—è–ª –Ω–∞ —Ç–µ–±—è?
A: –û–Ω –ø–æ–∫–∞–∑–∞–ª –º–Ω–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏. –ë–ª–∞–≥–æ–¥–∞—Ä—è –µ–º—É —è –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏.
B: –í—ã –¥–µ–ª–∞–ª–∏ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã?
A: –î–∞, –º—ã –≤–º–µ—Å—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ –ª–æ–≥–æ—Ç–∏–ø –¥–ª—è —à–∫–æ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –¥–æ—Å—Ç–∞–≤–∏–ª–æ –º–Ω–µ –±–æ–ª—å—à–æ–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ.
B: –ß—Ç–æ —Ç—ã –æ—Å–æ–±–µ–Ω–Ω–æ —Ü–µ–Ω–∏—à—å –≤ —Å–≤–æ–µ–º –±—Ä–∞—Ç–µ?
A: –ï–≥–æ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö. –û–Ω –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –æ–±—ä—è—Å–Ω–∏—Ç—å.
B: –û–Ω —Ç–≤–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–¥—Ä–∞–∂–∞–Ω–∏—è?
A: –î–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ. –Ø —Ç–æ–∂–µ —Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–≤–æ—Ä—á–µ—Å–∫–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –ª—é–¥–µ–π —Å–≤–æ–∏–º–∏ –∏–¥–µ—è–º–∏.
B: –ó–Ω–∞—á–∏—Ç, —É —Ç–µ–±—è –µ—Å—Ç—å —á–µ—Ç–∫–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –±—É–¥—É—â–µ–µ.
A: –ò–º–µ–Ω–Ω–æ. –ò —è –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω, —á—Ç–æ —É –º–µ–Ω—è –µ—Å—Ç—å —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç.`
        }
      ]
    },
    {
      id: 'thema5',
      title_ru: '–¢–µ–º–∞ 5: –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–µ',
      title_de: 'Thema 5: Arbeitssuche in einem Land Ihrer Wahl',
      dialogues: [
        {
          id: '5a',
          title_ru: 'A. –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã –≤ –ì–µ—Ä–º–∞–Ω–∏–∏',
          text_de: `A: Ich m√∂chte √ºber die Arbeitssuche in Deutschland sprechen.
B: Okay. Wie beginnt man dort mit der Jobsuche?
A: Zuerst sucht man online nach Stellenangeboten ‚Äì zum Beispiel auf Webseiten wie StepStone oder Indeed.
B: Und was macht man, wenn man ein interessantes Angebot findet?
A: Man sollte sich gut √ºber die Firma informieren und dann eine Bewerbung schreiben.
B: Was geh√∂rt zu einer Bewerbung in Deutschland?
A: Ein Lebenslauf, ein Anschreiben und oft auch Zeugnisse oder Zertifikate.
B: Und wie l√§uft der Erstkontakt ab?
A: Man schickt die Bewerbung per E-Mail oder √ºber ein Online-Formular. Danach bekommt man eine Antwort.
B: Was passiert, wenn man zum Vorstellungsgespr√§ch eingeladen wird?
A: Man muss sich gut vorbereiten: √ºber die Firma lesen, Fragen √ºben und passende Kleidung w√§hlen.
B: Gibt es Unterschiede zur Arbeitssuche in anderen L√§ndern?
A: Ja, in Deutschland ist P√ºnktlichkeit und Struktur sehr wichtig. Man sollte professionell auftreten.
B: Danke f√ºr die Infos! Das hilft mir bei meiner eigenen Jobsuche.
A: Gern geschehen. Viel Erfolg!`,
          text_ru: `A: –Ø —Ö–æ—á—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –ø–æ–∏—Å–∫–µ —Ä–∞–±–æ—Ç—ã –≤ –ì–µ—Ä–º–∞–Ω–∏–∏.
B: –•–æ—Ä–æ—à–æ. –° —á–µ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã —Ç–∞–º?
A: –°–Ω–∞—á–∞–ª–∞ –∏—â—É—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ –æ–Ω–ª–∞–π–Ω ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Å–∞–π—Ç–∞—Ö –≤—Ä–æ–¥–µ StepStone –∏–ª–∏ Indeed.
B: –ê —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è?
A: –ù—É–∂–Ω–æ —Ö–æ—Ä–æ—à–æ —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –∑–∞—Ç–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ.
B: –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –∑–∞—è–≤–ª–µ–Ω–∏–µ –æ –ø—Ä–∏–µ–º–µ –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ –ì–µ—Ä–º–∞–Ω–∏–∏?
A: –†–µ–∑—é–º–µ, —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ –∏ —á–∞—Å—Ç–æ ‚Äî –¥–∏–ø–ª–æ–º—ã –∏–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã.
B: –ê –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç?
A: –ó–∞—è–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ –∏–ª–∏ —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω-—Ñ–æ—Ä–º—É. –ó–∞—Ç–µ–º –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç–≤–µ—Ç.
B: –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –ø—Ä–∏–≥–ª–∞—à–∞—é—Ç –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ?
A: –ù—É–∂–Ω–æ —Ö–æ—Ä–æ—à–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è: –ø—Ä–æ—á–∏—Ç–∞—Ç—å –æ –∫–æ–º–ø–∞–Ω–∏–∏, –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö –∏ –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â—É—é –æ–¥–µ–∂–¥—É.
B: –ï—Å—Ç—å –ª–∏ –æ—Ç–ª–∏—á–∏—è –æ—Ç –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç—ã –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö?
A: –î–∞, –≤ –ì–µ—Ä–º–∞–Ω–∏–∏ –æ—á–µ–Ω—å –≤–∞–∂–Ω—ã –ø—É–Ω–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –ù—É–∂–Ω–æ –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ.
B: –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é! –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –º–Ω–µ –≤ –º–æ–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –ø–æ–∏—Å–∫–µ —Ä–∞–±–æ—Ç—ã.
A: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞. –£–¥–∞—á–∏!`
        }
      ]
    },
    {
      id: 'thema6',
      title_ru: '–¢–µ–º–∞ 6: –ù–∞ —á—Ç–æ –≤–∞–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏',
      title_de: 'Thema 6: Worauf es bei einem Bewerbungsprozess ankommt',
      dialogues: [
        {
          id: '6a',
          title_ru: 'A. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é',
          text_de: `A: Ich finde, ein erfolgreicher Bewerbungsprozess beginnt mit einer guten Vorbereitung.
B: Da stimme ich dir zu. Man sollte sich zuerst √ºber das Unternehmen informieren.
A: Genau. Man sollte wissen, was die Firma macht, welche Werte sie hat und welche Anforderungen sie stellt.
B: Und dann kommt der Lebenslauf. Der muss klar und √ºbersichtlich sein.
A: Ja, und man sollte relevante Erfahrungen und F√§higkeiten betonen.
B: Was ist mit dem Anschreiben?
A: Das ist sehr wichtig. Es sollte pers√∂nlich sein und zeigen, warum man sich gerade f√ºr diese Stelle interessiert.
B: Ich finde auch, dass man sich gut auf das Vorstellungsgespr√§ch vorbereiten muss.
A: Absolut. Man sollte typische Fragen √ºben und sich √ºberlegen, wie man seine St√§rken pr√§sentiert.
B: Und nicht vergessen: P√ºnktlichkeit und ein gepflegtes Auftreten sind entscheidend.
A: Genau. Der erste Eindruck z√§hlt.`,
          text_ru: `A: –Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ —É—Å–ø–µ—à–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ö–æ—Ä–æ—à–µ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.
B: –°–æ–≥–ª–∞—Å–µ–Ω —Å —Ç–æ–±–æ–π. –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏.
A: –ò–º–µ–Ω–Ω–æ. –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å, —á–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ñ–∏—Ä–º–∞, –∫–∞–∫–∏–µ —É –Ω–µ—ë —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∫–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –æ–Ω–∞ –ø—Ä–µ–¥—ä—è–≤–ª—è–µ—Ç.
B: –ê –∑–∞—Ç–µ–º –∏–¥—ë—Ç —Ä–µ–∑—é–º–µ. –û–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—ë—Ç–∫–∏–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.
A: –î–∞, –∏ –Ω—É–∂–Ω–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–ø—ã—Ç –∏ –Ω–∞–≤—ã–∫–∏.
B: –ê –∫–∞–∫ –Ω–∞—Å—á—ë—Ç —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∏—Å—å–º–∞?
A: –≠—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ. –û–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ª–∏—á–Ω—ã–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –ø–æ—á–µ–º—É —Ç—ã –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ–π –¥–æ–ª–∂–Ω–æ—Å—Ç–∏.
B: –Ø —Ç–æ–∂–µ —Å—á–∏—Ç–∞—é, —á—Ç–æ –Ω—É–∂–Ω–æ —Ö–æ—Ä–æ—à–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é.
A: –ê–±—Å–æ–ª—é—Ç–Ω–æ. –ù—É–∂–Ω–æ –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Ç–∏–ø–∏—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –∏ –ø–æ–¥—É–º–∞—Ç—å, –∫–∞–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã.
B: –ò –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å: –ø—É–Ω–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ ‚Äî —Ä–µ—à–∞—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã.
A: –ò–º–µ–Ω–Ω–æ. –ü–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.`
        }
      ]
    },
    {
      id: 'thema7',
      title_ru: '–¢–µ–º–∞ 7: –ü—Ä–æ–¥—É–∫—Ç –∏–ª–∏ —É—Å–ª—É–≥–∞ –Ω–∞ –≤–∞—à –≤—ã–±–æ—Ä',
      title_de: 'Thema 7: Ein Produkt / eine Dienstleistung Ihrer Wahl',
      dialogues: [
        {
          id: '7a',
          title_ru: 'A. –ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏',
          text_de: `A: Ich m√∂chte ein Produkt beschreiben, das ich t√§glich benutze ‚Äì meine kabellosen Kopfh√∂rer.
B: Interessant! Was sind die wichtigsten Merkmale?
A: Sie sind leicht, haben eine gute Klangqualit√§t und eine lange Akkulaufzeit ‚Äì bis zu 30 Stunden.
B: Und wie funktioniert die Verbindung?
A: √úber Bluetooth. Die Verbindung ist stabil und funktioniert auch mit mehreren Ger√§ten.
B: Was ist der Nutzen f√ºr die Kunden?
A: Man kann Musik h√∂ren, telefonieren oder Podcasts h√∂ren ‚Äì alles ohne Kabel.
B: Gibt es auch Nachteile?
A: Ja, sie sind teurer als kabelgebundene Kopfh√∂rer und man muss sie regelm√§√üig aufladen.
B: Wie viel kosten sie ungef√§hr?
A: Etwa 120 Euro. Es gibt aber auch g√ºnstigere Modelle ab 50 Euro.
B: Wo kann man sie kaufen?
A: In Elektronikgesch√§ften oder online ‚Äì zum Beispiel bei MediaMarkt oder Amazon.
B: Ich √ºberlege, mir auch welche zu kaufen.
A: Ich kann sie wirklich empfehlen ‚Äì besonders f√ºr unterwegs.`,
          text_ru: `A: –Ø —Ö–æ—á—É –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É—é –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –º–æ–∏ –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏.
B: –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏?
A: –û–Ω–∏ –ª—ë–≥–∫–∏–µ, –∏–º–µ—é—Ç —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞ –∏ –¥–æ–ª–≥–æ –¥–µ—Ä–∂–∞—Ç –∑–∞—Ä—è–¥ ‚Äî –¥–æ 30 —á–∞—Å–æ–≤.
B: –ê –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ?
A: –ß–µ—Ä–µ–∑ Bluetooth. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
B: –ö–∞–∫–æ–≤–∞ –ø–æ–ª—å–∑–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤?
A: –ú–æ–∂–Ω–æ —Å–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É, —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ —Å–ª—É—à–∞—Ç—å –ø–æ–¥–∫–∞—Å—Ç—ã ‚Äî –≤—Å—ë –±–µ–∑ –ø—Ä–æ–≤–æ–¥–æ–≤.
B: –ï—Å—Ç—å –ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏?
A: –î–∞, –æ–Ω–∏ –¥–æ—Ä–æ–∂–µ, —á–µ–º –ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏, –∏ –∏—Ö –Ω—É–∂–Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∑–∞—Ä—è–∂–∞—Ç—å.
B: –°–∫–æ–ª—å–∫–æ –æ–Ω–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç–æ—è—Ç?
A: –û–∫–æ–ª–æ 120 –µ–≤—Ä–æ. –ù–æ –µ—Å—Ç—å –∏ –±–æ–ª–µ–µ –¥–µ—à—ë–≤—ã–µ –º–æ–¥–µ–ª–∏ –æ—Ç 50 –µ–≤—Ä–æ.
B: –ì–¥–µ –∏—Ö –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å?
A: –í –º–∞–≥–∞–∑–∏–Ω–∞—Ö —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –∏–ª–∏ –æ–Ω–ª–∞–π–Ω ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ MediaMarkt –∏–ª–∏ –Ω–∞ Amazon.
B: –Ø –ø–æ–¥—É–º—ã–≤–∞—é —Ç–æ–∂–µ –∫—É–ø–∏—Ç—å —Å–µ–±–µ —Ç–∞–∫–∏–µ.
A: –Ø –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–≥—É –∏—Ö –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å ‚Äî –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –ø–æ–µ–∑–¥–æ–∫.`
        }
      ]
    }
  ];

  // ========== –£–õ–£–ß–®–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê TTS –° GOOGLE –ì–û–õ–û–°–ê–ú–ò ==========
  const useAdvancedTTS = (logger) => {
    const [isSpeaking, setIsSpeaking] = useState(false);
    const [availableVoices, setAvailableVoices] = useState([]);
    const [selectedVoice, setSelectedVoice] = useState(null);
    const [isMobile, setIsMobile] = useState(false);

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    useEffect(() => {
      const checkMobile = () => {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      };
      setIsMobile(checkMobile());
    }, []);

    // –ó–∞–≥—Ä—É–∑–∫–∞ –≥–æ–ª–æ—Å–æ–≤ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    useEffect(() => {
      loadVoices();
    }, []);

    // –°–ø–∏—Å–æ–∫ Google-–≥–æ–ª–æ—Å–æ–≤ –¥–ª—è –Ω–µ–º–µ—Ü–∫–æ–≥–æ —è–∑—ã–∫–∞
    const getGoogleVoices = () => {
      return [
        {
          name: 'Google Deutsch Female',
          lang: 'de-DE',
          localService: false,
          default: false,
          isGoogle: true,
          gender: 'female'
        },
        {
          name: 'Google Deutsch',
          lang: 'de-DE',
          localService: false,
          default: false,
          isGoogle: true,
          gender: 'neutral'
        },
        {
          name: 'Google Deutsch Male',
          lang: 'de-DE',
          localService: false,
          default: false,
          isGoogle: true,
          gender: 'male'
        }
      ];
    };

    const loadVoices = useCallback(() => {
      return new Promise((resolve) => {
        const loadSystemVoices = () => {
          const voices = window.speechSynthesis.getVoices();
          if (voices.length > 0) {
            processVoices(voices, resolve);
          } else {
            // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –≥–æ–ª–æ—Å–æ–≤
            window.speechSynthesis.onvoiceschanged = () => {
              const voices = window.speechSynthesis.getVoices();
              processVoices(voices, resolve);
            };
          }
        };

        // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫—É
        if (isMobile) {
          setTimeout(loadSystemVoices, 1000);
        } else {
          loadSystemVoices();
        }
      });
    }, [isMobile, logger]);

    const processVoices = (voices, resolve) => {
      const germanVoices = voices.filter(voice =>
        voice.lang.includes('de') || voice.lang.includes('DE') || voice.lang.includes('ger')
      );

      // –î–æ–±–∞–≤–ª—è–µ–º Google-–≥–æ–ª–æ—Å–∞
      const googleVoices = getGoogleVoices();
      const allVoices = [...germanVoices, ...googleVoices];

      // –°–æ—Ä—Ç–∏—Ä—É–µ–º –≥–æ–ª–æ—Å–∞: —Å–Ω–∞—á–∞–ª–∞ Google –∂–µ–Ω—Å–∫–∏–µ, –ø–æ—Ç–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∂–µ–Ω—Å–∫–∏–µ, –ø–æ—Ç–æ–º Google, –ø–æ—Ç–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ
      const sortedVoices = allVoices.sort((a, b) => {
        // Google –∂–µ–Ω—Å–∫–∏–µ –≥–æ–ª–æ—Å–∞ - —Å–∞–º—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ
        if (a.isGoogle && a.gender === 'female' && (!b.isGoogle || b.gender !== 'female')) return -1;
        if (b.isGoogle && b.gender === 'female' && (!a.isGoogle || a.gender !== 'female')) return 1;

        // –ñ–µ–Ω—Å–∫–∏–µ –≥–æ–ª–æ—Å–∞
        const aIsFemale = a.gender === 'female' ||
                         a.name.toLowerCase().includes('female') ||
                         a.name.toLowerCase().includes('woman') ||
                         a.name.toLowerCase().includes('anna');
        const bIsFemale = b.gender === 'female' ||
                         b.name.toLowerCase().includes('female') ||
                         b.name.toLowerCase().includes('woman') ||
                         b.name.toLowerCase().includes('anna');

        if (aIsFemale && !bIsFemale) return -1;
        if (!aIsFemale && bIsFemale) return 1;

        // Google –≥–æ–ª–æ—Å–∞
        if (a.isGoogle && !b.isGoogle) return -1;
        if (!a.isGoogle && b.isGoogle) return 1;

        return a.name.localeCompare(b.name);
      });

      setAvailableVoices(sortedVoices);

      // –ê–≤—Ç–æ–≤—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ –≥–æ–ª–æ—Å–∞ - –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º Google –∂–µ–Ω—Å–∫–∏–π
      const bestVoice = sortedVoices.find(v => v.isGoogle && v.gender === 'female') ||
                       sortedVoices.find(v => v.gender === 'female') ||
                       sortedVoices.find(v => v.isGoogle) ||
                       sortedVoices[0];
      setSelectedVoice(bestVoice);

      logger.log(`üé§ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${isMobile ? '–ú–æ–±–∏–ª—å–Ω–æ–µ' : '–î–µ—Å–∫—Ç–æ–ø'}, –≥–æ–ª–æ—Å–æ–≤: ${voices.length}, –Ω–µ–º–µ—Ü–∫–∏—Ö: ${germanVoices.length}`, 'success');
      if (bestVoice) {
        logger.log(`üîä –í—ã–±—Ä–∞–Ω –≥–æ–ª–æ—Å: ${bestVoice.name}`, 'info');
      }

      resolve(sortedVoices);
    };

    // –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–∑–≤—É—á–∫–∏
    const speak = useCallback(async (text) => {
      if (!text || isSpeaking) return;

      return new Promise((resolve, reject) => {
        if (!('speechSynthesis' in window)) {
          reject(new Error("–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏"));
          return;
        }

        // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é —Ä–µ—á—å
        window.speechSynthesis.cancel();

        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'de-DE';

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≥–æ–ª–æ—Å–æ–≤
        if (selectedVoice && selectedVoice.isGoogle) {
          // –î–ª—è Google –≥–æ–ª–æ—Å–æ–≤ - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
          utterance.rate = 0.95;
          utterance.pitch = 1.05;
          utterance.volume = 1.0;
        } else if (isMobile) {
          utterance.rate = 0.85;
          utterance.pitch = 1.0;
          utterance.volume = 0.9;
        } else {
          utterance.rate = 0.9;
          utterance.pitch = 1.1;
          utterance.volume = 1.0;
        }

        // –ü—ã—Ç–∞–µ–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å, –µ—Å–ª–∏ –æ–Ω —Ä–µ–∞–ª—å–Ω—ã–π
        if (selectedVoice && !selectedVoice.isGoogle) {
          utterance.voice = selectedVoice;
        }

        utterance.onend = () => {
          logger.log('‚úÖ –û–∑–≤—É—á–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞', 'success');
          setIsSpeaking(false);
          resolve();
        };

        utterance.onerror = (event) => {
          logger.log(`‚ùå –û—à–∏–±–∫–∞ –æ–∑–≤—É—á–∫–∏: ${event.error}`, 'error');
          setIsSpeaking(false);
          reject(new Error(event.error));
        };

        utterance.onstart = () => {
          const voiceInfo = selectedVoice ?
            (selectedVoice.isGoogle ? ` (${selectedVoice.name})` : ` (${selectedVoice.name})`) :
            ' (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)';
          logger.log(`üéµ –û–∑–≤—É—á–∫–∞: "${text.substring(0, 20)}..."${voiceInfo}`, 'info');
        };

        // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
        if (isMobile) {
          setTimeout(() => {
            setIsSpeaking(true);
            window.speechSynthesis.speak(utterance);
          }, 100);
        } else {
          setIsSpeaking(true);
          window.speechSynthesis.speak(utterance);
        }
      });
    }, [selectedVoice, isSpeaking, isMobile, logger]);

    const reloadVoices = useCallback(() => {
      logger.log('üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≥–æ–ª–æ—Å–æ–≤...', 'info');
      if (isMobile) {
        window.location.reload();
      } else {
        loadVoices();
      }
    }, [loadVoices, isMobile, logger]);

    return {
      speak,
      isSpeaking,
      availableVoices,
      selectedVoice,
      setSelectedVoice,
      reloadVoices,
      isMobile
    };
  };

  // ========== –°–ò–°–¢–ï–ú–ê –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø ==========
  const useLogger = () => {
    const [logs, setLogs] = useState([]);
    const [showDebug, setShowDebug] = useState(false);

    const log = useCallback((message, type = 'info') => {
      const timestamp = new Date().toLocaleTimeString();
      const logEntry = {
        id: Date.now() + Math.random(),
        timestamp,
        message,
        type
      };

      setLogs(prev => [logEntry, ...prev].slice(0, 50));

      console.log(`[${timestamp}] ${message}`);
    }, []);

    const clearLogs = useCallback(() => {
      setLogs([]);
    }, []);

    return {
      logs,
      showDebug,
      setShowDebug,
      log,
      clearLogs
    };
  };

  // ========== –ö–û–ú–ü–û–ù–ï–ù–¢–´ ==========
  const Icon = {
    Volume: (props) => (
      <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" {...props}>
        <path d="M11 5L6 9H2v6h4l5 4V5z"/>
        <path d="M19 5c.4 1.1.5 2.3.5 3.5s-.1 2.4-.5 3.5"/>
        <path d="M15 9.5c.3.8.5 1.7.5 2.5s-.2 1.7-.5 2.5"/>
      </svg>
    ),
    Loader: (props) => (
      <svg viewBox="0 0 24 24" width="16" height="16" className="animate-spin" {...props}>
        <circle cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="2" fill="none" strokeDasharray="31.4" strokeLinecap="round"/>
      </svg>
    ),
    Check: (props) => (
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" {...props}>
        <path d="M20 6L9 17l-5-5"/>
      </svg>
    ),
    Female: (props) => (
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" {...props}>
        <circle cx="12" cy="4" r="2"/>
        <path d="M16 22v-4a4 4 0 0 0-4-4h0a4 4 0 0 0-4 4v4"/>
        <path d="M22 12h-6"/>
        <path d="M16 8l4-4"/>
      </svg>
    ),
    Refresh: (props) => (
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" {...props}>
        <path d="M23 4v6h-6"/>
        <path d="M1 20v-6h6"/>
        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
      </svg>
    ),
    Mobile: (props) => (
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" {...props}>
        <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
        <line x1="12" y1="18" x2="12" y2="18"/>
      </svg>
    ),
    Google: (props) => (
      <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" {...props}>
        <path d="M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27 3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12c0 5.05 4.13 10 10.22 10 5.35 0 9.25-3.67 9.25-9.09 0-1.15-.15-1.81-.15-1.81Z"/>
      </svg>
    )
  };

  // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –≥–æ–ª–æ—Å–∞ —Å Google-–≥–æ–ª–æ—Å–∞–º–∏
  const VoiceSelector = ({ voices, selectedVoice, onSelectVoice, onReload, isSpeaking, isMobile }) => {
    const [isExpanded, setIsExpanded] = useState(false);

    const getVoiceIcon = (voice) => {
      if (voice.isGoogle) return <Icon.Google className="inline mr-1" />;
      return null;
    };

    const getGenderIcon = (voice) => {
      if (voice.gender === 'female' || voice.name.toLowerCase().includes('female') || voice.name.toLowerCase().includes('anna')) return 'üë©';
      if (voice.gender === 'male' || voice.name.toLowerCase().includes('male')) return 'üë®';
      return 'üßë';
    };

    return (
      <div className="card">
        <div className="flex justify-between items-center mb-3">
          <h3 className="text-lg font-semibold flex items-center gap-2 mobile-small-text">
            <Icon.Female />
            –í—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞
            {isMobile && <Icon.Mobile title="–ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" />}
            {isSpeaking && <Icon.Loader className="animate-spin" />}
          </h3>
          <div className="flex gap-2">
            <button
              onClick={() => setIsExpanded(!isExpanded)}
              className="px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors mobile-button"
            >
              {isExpanded ? '‚ñ≤' : '‚ñº'}
            </button>
            <button
              onClick={onReload}
              className="flex items-center gap-2 px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors mobile-button"
              title={isMobile ? "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É" : "–û–±–Ω–æ–≤–∏—Ç—å –≥–æ–ª–æ—Å–∞"}
            >
              <Icon.Refresh size={14} />
            </button>
          </div>
        </div>

        <div className="text-sm text-gray-600 mb-2 mobile-small-text">
          –¢–µ–∫—É—â–∏–π: <span className="font-semibold">
            {selectedVoice?.isGoogle && <Icon.Google className="inline mr-1" />}
            {selectedVoice?.name || '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π'}
          </span>
          {isMobile && <span className="text-xs text-orange-500 ml-2">üì± –ú–æ–±–∏–ª—å–Ω—ã–π</span>}
        </div>

        {isExpanded && (
          <div className="space-y-2 max-h-40 overflow-y-auto">
            {voices.length === 0 ? (
              <div className="text-gray-500 text-sm">–ì–æ–ª–æ—Å–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>
            ) : (
              voices.map(voice => (
                <div
                  key={voice.name}
                  className={`voice-option ${selectedVoice?.name === voice.name ? 'selected' : ''} ${
                    voice.isGoogle ? 'border-2 border-green-200' : ''
                  }`}
                  onClick={() => onSelectVoice(voice)}
                >
                  <div className="font-medium mobile-small-text flex items-center">
                    {getVoiceIcon(voice)}
                    {voice.name}
                    {voice.isGoogle && <span className="ml-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Google</span>}
                  </div>
                  <div className="text-sm text-gray-600 mobile-small-text flex items-center justify-between">
                    <span>
                      {voice.lang} ‚Ä¢ {getGenderIcon(voice)}
                      {voice.gender === 'female' ? ' –ñ–µ–Ω—Å–∫–∏–π' :
                       voice.gender === 'male' ? ' –ú—É–∂—Å–∫–æ–π' : ' –ê–≤—Ç–æ'}
                    </span>
                    {voice.isGoogle && <span className="text-green-600">üåê</span>}
                  </div>
                </div>
              ))
            )}
          </div>
        )}

        <div className="mt-3 text-xs text-gray-500 mobile-small-text">
          {isMobile ?
            "üí° –í—ã–±–µ—Ä–∏—Ç–µ Google Deutsch Female –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–∑–≤—É—á–∫–∏" :
            "üí° Google-–≥–æ–ª–æ—Å–∞ –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–≤—É—á–∞–Ω–∏–µ"}
        </div>
      </div>
    );
  };

  // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–Ω–µ–ª–∏ –æ—Ç–ª–∞–¥–∫–∏
  const DebugPanel = ({ logs, onClear, isVisible }) => {
    if (!isVisible) return null;

    return (
      <div className="card mt-4">
        <div className="flex justify-between items-center mb-3">
          <h3 className="text-lg font-semibold flex items-center gap-2">
            –ö–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏
          </h3>
          <button
            onClick={onClear}
            className="flex items-center gap-2 px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition-colors mobile-button"
          >
            –û—á–∏—Å—Ç–∏—Ç—å
          </button>
        </div>

        <div className="debug-panel">
          {logs.length === 0 ? (
            <div className="text-gray-400">–õ–æ–≥–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</div>
          ) : (
            logs.map(log => (
              <div key={log.id} className={`mb-1 ${getLogClass(log.type)}`}>
                <span className="text-gray-400 text-xs">[{log.timestamp}]</span> {log.message}
              </div>
            ))
          )}
        </div>
      </div>
    );
  };

  const getLogClass = (type) => {
    switch (type) {
      case 'error': return 'log-error';
      case 'warning': return 'log-warning';
      case 'success': return 'log-success';
      case 'info': return 'log-info';
      default: return 'log-info';
    }
  };

  // –ì–õ–ê–í–ù–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢ APP
  function App() {
    const [view, setView] = useState('schreiben');
    const [selections, setSelections] = useState({
      greetings: 101, issue_intro: 201, main_problem: 301, problem_consequence: 401,
      evidence: 501, resolution_request: 601, closing_formula: 701, sign_off: 801
    });
    const [activeTopic, setActiveTopic] = useState(SCHREIBEN_TOPICS[0]);
    const [senderName, setSenderName] = useState("Max Mustermann");
    const [invoiceNumber, setInvoiceNumber] = useState("RE-2024-1234");
    const [activeScenario, setActiveScenario] = useState(SPRECHEN_SCENARIOS[0]);
    const [activeDialogue, setActiveDialogue] = useState(SPRECHEN_SCENARIOS[0].dialogues[0]);
    const [progress, setProgress] = useState(0);
    const [completedSections, setCompletedSections] = useState(new Set());

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º
    const logger = useLogger();
    const tts = useAdvancedTTS(logger);
    const currentDate = new Date().toLocaleDateString('de-DE');

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    const allPhrases = useMemo(() => Object.values(PHRASES_DATA).flat(), []);
    const findPhraseById = useCallback((id) => allPhrases.find(p => p.id === id), [allPhrases]);

    const replacePlaceholders = useCallback((text) => {
      return text ? text.replace(/\[–æ–±—ä–µ–∫—Ç –∂–∞–ª–æ–±—ã\]/g, activeTopic.de).replace(/\[–î–∞—Ç–∞\]/g, currentDate) : '';
    }, [activeTopic, currentDate]);

    const assembleLetterWithTranslations = useCallback(() => {
      const parts = Object.keys(selections).map(key => {
        const phrase = findPhraseById(selections[key]);
        if (!phrase) return null;

        const germanText = replacePlaceholders(phrase.text);
        const russianText = replacePlaceholders(phrase.ru);

        return {
          german: germanText,
          russian: russianText
        };
      }).filter(Boolean);

      parts.push({
        german: senderName,
        russian: senderName
      });

      return parts;
    }, [selections, findPhraseById, replacePlaceholders, senderName]);

    const assembleLetter = useCallback(() => {
      const parts = Object.keys(selections).map(key =>
        replacePlaceholders(findPhraseById(selections[key])?.text)
      ).filter(Boolean);
      return [...parts, senderName].join('\n\n');
    }, [selections, findPhraseById, replacePlaceholders, senderName]);

    // –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    useEffect(() => {
      const completed = Object.values(selections).filter(Boolean).length;
      const total = Object.keys(selections).length;
      setProgress(Math.round((completed / total) * 100));

      const newCompleted = new Set(Object.keys(selections).filter(key => selections[key]));
      setCompletedSections(newCompleted);
    }, [selections]);

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–∑–≤—É—á–∫–∏
    const handleSpeak = async (text) => {
      try {
        await tts.speak(text);
      } catch (err) {
        logger.log(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–∑–≤—É—á–∫–µ: ${err.message}`, 'error');
        alert(`–û–∑–≤—É—á–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: ${err.message}`);
      }
    };

    // –ü–∞—Ä—Å–∏–Ω–≥ –¥–∏–∞–ª–æ–≥–æ–≤
    const parseDialogue = useCallback((deText, ruText) => {
      const deLines = deText.split('\n').filter(l => l.trim());
      const ruLines = ruText.split('\n').filter(l => l.trim());

      return deLines.map((line, i) => {
        const speakerMatch = line.match(/^(A:|B:)/);
        return {
          id: i,
          speaker: speakerMatch ? speakerMatch[0] : 'A:',
          de_text: line.replace(/^(A:|B:)\s*/, ''),
          ru_text: ruLines[i] ? ruLines[i].replace(/^(A:|B:)\s*/, '') : ''
        };
      });
    }, []);

    const dialogueLines = useMemo(() =>
      parseDialogue(activeDialogue.text_de, activeDialogue.text_ru),
      [activeDialogue, parseDialogue]
    );

    return (
      <div className="max-w-6xl mx-auto space-y-4 mobile-optimized">
        {/* –®–∞–ø–∫–∞ */}
        <header className="text-center">
          <h1 className="text-2xl md:text-3xl font-bold text-gray-800 mb-2">B2 German Exam Trainer</h1>
          <p className="text-gray-600 mb-4 text-sm md:text-base">
            {tts.isMobile ? 'üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è' : 'üíª –î–µ—Å–∫—Ç–æ–ø –≤–µ—Ä—Å–∏—è'} | üîä Google TTS
          </p>

          <div className="flex justify-center gap-1 md:gap-2 mb-4 flex-wrap">
            <button
              onClick={() => setView('schreiben')}
              className={`mobile-button rounded-lg font-semibold transition-colors ${
                view === 'schreiben' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
              }`}
            >
              üìù Schreiben
            </button>
            <button
              onClick={() => setView('sprechen')}
              className={`mobile-button rounded-lg font-semibold transition-colors ${
                view === 'sprechen' ? 'bg-indigo-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
              }`}
            >
              üó£Ô∏è Sprechen
            </button>
            <button
              onClick={() => handleSpeak("Hallo! Ich bin Google Stimme.")}
              className="mobile-button bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors"
            >
              üîä –¢–µ—Å—Ç Google
            </button>
            <button
              onClick={() => logger.setShowDebug(!logger.showDebug)}
              className={`mobile-button rounded-lg font-semibold transition-colors flex items-center gap-2 ${
                logger.showDebug ? 'bg-purple-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
              }`}
            >
              {logger.showDebug ? 'üìã' : 'üîß'}
            </button>
          </div>

          {tts.isSpeaking && (
            <div className="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-2 rounded mb-4 text-sm">
              üîä –û–∑–≤—É—á–∫–∞... {tts.selectedVoice?.isGoogle && <Icon.Google className="inline mr-1" />}
              ({tts.selectedVoice?.name || '—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π'})
            </div>
          )}
        </header>

        {/* –°–µ–ª–µ–∫—Ç–æ—Ä –≥–æ–ª–æ—Å–æ–≤ */}
        <VoiceSelector
          voices={tts.availableVoices}
          selectedVoice={tts.selectedVoice}
          onSelectVoice={tts.setSelectedVoice}
          onReload={tts.reloadVoices}
          isSpeaking={tts.isSpeaking}
          isMobile={tts.isMobile}
        />

        <main className={`grid grid-cols-1 ${view === 'schreiben' ? 'lg:grid-cols-3' : ''} gap-4 md:gap-6 mobile-column`}>
          {/* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - Schreiben */}
          {view === 'schreiben' && (
            <div className="lg:col-span-1 space-y-4 md:space-y-6">
              <div className="card">
                <h2 className="text-xl font-semibold mb-4">üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∏—Å—å–º–∞</h2>

                <div className="mb-4">
                  <label className="block text-sm font-medium mb-2">–¢–µ–º–∞ –∂–∞–ª–æ–±—ã:</label>
                  <select
                    value={activeTopic.id}
                    onChange={(e) => {
                      const topic = SCHREIBEN_TOPICS.find(t => t.id === e.target.value);
                      setActiveTopic(topic);
                      logger.log(`üìù –í—ã–±—Ä–∞–Ω–∞ —Ç–µ–º–∞: ${topic.ru}`, 'info');
                    }}
                    className="w-full p-2 md:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm md:text-base"
                  >
                    {SCHREIBEN_TOPICS.map(topic => (
                      <option key={topic.id} value={topic.id}>
                        {topic.ru} ‚Äî {topic.de}
                      </option>
                    ))}
                  </select>
                </div>

                <div className="grid grid-cols-2 gap-2 md:gap-4 mb-4">
                  <div>
                    <label className="block text-sm font-medium mb-2">–í–∞—à–µ –∏–º—è:</label>
                    <input
                      type="text"
                      value={senderName}
                      onChange={(e) => setSenderName(e.target.value)}
                      className="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium mb-2">–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:</label>
                    <input
                      type="text"
                      value={invoiceNumber}
                      onChange={(e) => setInvoiceNumber(e.target.value)}
                      className="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm"
                    />
                  </div>
                </div>

                <div className="mb-4">
                  <div className="flex justify-between text-sm mb-2">
                    <span>–ü—Ä–æ–≥—Ä–µ—Å—Å:</span>
                    <span className="font-semibold">{progress}%</span>
                  </div>
                  <div className="w-full bg-gray-200 rounded-full h-2">
                    <div
                      className="bg-green-600 h-2 rounded-full transition-all duration-300"
                      style={{ width: `${progress}%` }}
                    ></div>
                  </div>
                </div>

                <button
                  onClick={() => {
                    const newSelections = {};
                    Object.keys(PHRASES_DATA).forEach(key => {
                      const phrases = PHRASES_DATA[key];
                      newSelections[key] = phrases[Math.floor(Math.random() * phrases.length)].id;
                    });
                    setSelections(newSelections);
                    logger.log('üé≤ –°–ª—É—á–∞–π–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è', 'success');
                  }}
                  className="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-2 md:py-3 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all text-sm md:text-base"
                >
                  üé≤ –°–ª—É—á–∞–π–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
                </button>
              </div>

              <div className="card">
                <h2 className="text-xl font-semibold mb-4">üìù –§—Ä–∞–∑—ã –¥–ª—è –ø–∏—Å—å–º–∞</h2>
                <div className="space-y-4 max-h-[500px] overflow-y-auto pr-2">
                  {Object.entries(PHRASES_DATA).map(([category, phrases]) => (
                    <div key={category} className="border-b border-gray-200 pb-4 last:border-b-0">
                      <div className="flex items-center mb-2">
                        <h3 className="font-semibold text-gray-800 text-sm md:text-base">
                          {category === 'greetings' && '1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ'}
                          {category === 'issue_intro' && '2. –í–≤–µ–¥–µ–Ω–∏–µ'}
                          {category === 'main_problem' && '3. –ü—Ä–æ–±–ª–µ–º–∞'}
                          {category === 'problem_consequence' && '4. –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è'}
                          {category === 'evidence' && '5. –î–æ–∫—É–º–µ–Ω—Ç—ã'}
                          {category === 'resolution_request' && '6. –†–µ—à–µ–Ω–∏–µ'}
                          {category === 'closing_formula' && '7. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ'}
                          {category === 'sign_off' && '8. –ü–æ–¥–ø–∏—Å—å'}
                        </h3>
                        {completedSections.has(category) && (
                          <Icon.Check className="ml-2 text-green-600" />
                        )}
                      </div>

                      <div className="space-y-2">
                        {phrases.map(phrase => {
                          const isActive = selections[category] === phrase.id;
                          return (
                            <div
                              key={phrase.id}
                              className={`p-2 md:p-3 rounded-lg border-2 transition-all ${
                                isActive
                                  ? 'border-blue-500 bg-blue-50'
                                  : 'border-gray-200 bg-gray-50 hover:border-gray-300'
                              }`}
                            >
                              <div className="flex justify-between items-start">
                                <div className="flex-1">
                                  <div className="font-medium text-gray-900 text-sm md:text-base">
                                    {replacePlaceholders(phrase.text)}
                                  </div>
                                  <div className="text-sm text-gray-600 mt-1 italic">
                                    {phrase.ru}
                                  </div>
                                </div>
                                <div className="flex flex-col gap-2 ml-2">
                                  <button
                                    onClick={() => {
                                      setSelections(prev => ({
                                        ...prev,
                                        [category]: phrase.id
                                      }));
                                    }}
                                    className="btn-icon bg-white border border-gray-300 hover:bg-gray-100 transition-colors"
                                    title="–í—ã–±—Ä–∞—Ç—å"
                                  >
                                    <Icon.Check />
                                  </button>
                                  <button
                                    onClick={() => handleSpeak(replacePlaceholders(phrase.text))}
                                    disabled={tts.isSpeaking}
                                    className="btn-icon bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 transition-colors"
                                    title="–û–∑–≤—É—á–∏—Ç—å"
                                  >
                                    {tts.isSpeaking ? <Icon.Loader /> : <Icon.Volume />}
                                  </button>
                                </div>
                              </div>
                            </div>
                          );
                        })}
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}

          {/* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ */}
          <div className={`space-y-4 md:space-y-6 ${view === 'schreiben' ? 'lg:col-span-2' : ''}`}>

            {/* –ì–æ—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ */}
            {view === 'schreiben' && (
              <div className="card">
                <div className="flex justify-between items-center mb-4">
                  <h2 className="text-xl font-semibold">üìÑ –ì–æ—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ</h2>
                  <div className="text-sm text-gray-600">–î–∞—Ç–∞: {currentDate}</div>
                </div>

                <div className="bg-gray-50 border border-gray-200 rounded-lg p-3 md:p-4 min-h-[200px] md:min-h-[300px]">
                  <div className="space-y-3 md:space-y-4">
                    {assembleLetterWithTranslations().map((part, index) => (
                      <div key={index} className="border-b border-gray-100 pb-3 md:pb-4 last:border-b-0 last:pb-0">
                        <div className="text-gray-800 font-sans text-sm md:text-base leading-relaxed mb-2">
                          {part.german}
                        </div>
                        <div className="text-gray-600 italic text-xs md:text-sm pl-3 md:pl-4 border-l-2 border-gray-300">
                          {part.russian}
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                <div className="flex gap-2 md:gap-3 mt-4 flex-wrap">
                  <button
                    onClick={() => {
                      logger.log('üìÑ –û–∑–≤—É—á–∫–∞ –ø–∏—Å—å–º–∞', 'info');
                      handleSpeak(assembleLetter());
                    }}
                    disabled={tts.isSpeaking}
                    className="px-4 md:px-6 py-2 md:py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-2 text-sm md:text-base"
                  >
                    {tts.isSpeaking ? <Icon.Loader /> : <Icon.Volume />}
                    –û–∑–≤—É—á–∏—Ç—å –ø–∏—Å—å–º–æ
                  </button>

                  <button
                    onClick={() => {
                      navigator.clipboard.writeText(assembleLetter());
                      logger.log('üìã –ü–∏—Å—å–º–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ', 'success');
                      alert('–ü–∏—Å—å–º–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!');
                    }}
                    className="px-4 md:px-6 py-2 md:py-3 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors text-sm md:text-base"
                  >
                    üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                  </button>
                </div>
              </div>
            )}

            {/* Sprechen */}
            {view === 'sprechen' && (
              <div className="card">
                <div className="flex justify-between items-center mb-4 md:mb-6">
                  <h2 className="text-xl md:text-2xl font-semibold">üó£Ô∏è Sprechen</h2>
                  <select
                    value={activeScenario.id}
                    onChange={(e) => {
                      const scenario = SPRECHEN_SCENARIOS.find(s => s.id === e.target.value);
                      setActiveScenario(scenario);
                      setActiveDialogue(scenario.dialogues[0]);
                      logger.log(`üó£Ô∏è –¢–µ–º–∞: ${scenario.title_ru}`, 'info');
                    }}
                    className="p-2 md:p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 text-sm md:text-base"
                  >
                    {SPRECHEN_SCENARIOS.map(scenario => (
                      <option key={scenario.id} value={scenario.id}>
                        {scenario.title_ru}
                      </option>
                    ))}
                  </select>
                </div>

                <div className="mb-4 md:mb-6">
                  <h3 className="text-lg font-semibold mb-4 text-gray-800 text-sm md:text-base">
                    {activeScenario.title_de} ‚Äî {activeScenario.title_ru}
                  </h3>

                  <div className="space-y-3 md:space-y-4">
                    {dialogueLines.map(line => (
                      <div
                        key={line.id}
                        className={`p-3 md:p-4 rounded-lg border-2 ${
                          line.speaker === 'A:'
                            ? 'border-blue-200 bg-blue-50'
                            : 'border-gray-200 bg-gray-50'
                        }`}
                      >
                        <div className="flex justify-between items-start">
                          <div className="flex-1">
                            <div className="flex items-start gap-2 md:gap-3">
                              <span className={`font-bold text-sm md:text-base ${
                                line.speaker === 'A:' ? 'text-blue-600' : 'text-gray-600'
                              }`}>
                                {line.speaker}
                              </span>
                              <div>
                                <div className="text-gray-900 font-medium text-sm md:text-base">
                                  {line.de_text}
                                </div>
                                <div className="text-gray-600 italic mt-2 text-xs md:text-sm">
                                  {line.ru_text}
                                </div>
                              </div>
                            </div>
                          </div>
                          <button
                            onClick={() => {
                              logger.log(`üé§ –û–∑–≤—É—á–∫–∞ —Ä–µ–ø–ª–∏–∫–∏`, 'info');
                              handleSpeak(line.de_text);
                            }}
                            disabled={tts.isSpeaking}
                            className="btn-icon bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 transition-colors ml-2 md:ml-4"
                            title="–û–∑–≤—É—á–∏—Ç—å"
                          >
                            {tts.isSpeaking ? <Icon.Loader /> : <Icon.Volume />}
                          </button>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            )}
          </div>
        </main>

        {/* –ü–∞–Ω–µ–ª—å –æ—Ç–ª–∞–¥–∫–∏ */}
        <DebugPanel
          logs={logger.logs}
          onClear={logger.clearLogs}
          isVisible={logger.showDebug}
        />

        <footer className="text-center text-gray-500 text-xs md:text-sm mt-6 md:mt-8 pt-3 md:pt-4 border-t border-gray-200">
          <p>B2 German Exam Trainer ‚Äî {tts.isMobile ? 'üì± –ú–æ–±–∏–ª—å–Ω–∞—è' : 'üíª –î–µ—Å–∫—Ç–æ–ø'} –≤–µ—Ä—Å–∏—è | üîä Google TTS</p>
        </footer>
      </div>
    );
  }

  ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>